[gd_scene load_steps=38 format=3 uid="uid://ccyb2yo0pxon3"]

[ext_resource type="Texture2D" uid="uid://s0b8axcrevre" path="res://sprites/grocery_store_floor.png" id="1_v33jl"]
[ext_resource type="Texture2D" uid="uid://bemb020csaa0m" path="res://sprites/cashier.png" id="2_wf4cn"]
[ext_resource type="PackedScene" uid="uid://blds3ousifp5w" path="res://scenes/transfer_area.tscn" id="2_x0xxj"]
[ext_resource type="Texture2D" uid="uid://pw2ydvscff3x" path="res://sprites/shelf_2.png" id="3_biarb"]
[ext_resource type="Texture2D" uid="uid://byb0ekikshcff" path="res://sprites/shelf_1.png" id="4_5dc52"]
[ext_resource type="Texture2D" uid="uid://by2rllra5la2l" path="res://sprites/shelf_3.png" id="5_k6thg"]
[ext_resource type="PackedScene" uid="uid://bd27q2d1ytent" path="res://scenes/player.tscn" id="6_5dc52"]
[ext_resource type="PackedScene" uid="uid://bw7agl3mm7e1q" path="res://scenes/dialogue_manager.tscn" id="7_k6thg"]
[ext_resource type="Script" uid="uid://cbpoo80fjfr4m" path="res://scripts/dialogue_line.gd" id="8_10eql"]
[ext_resource type="PackedScene" uid="uid://c4di3ir7ia2dl" path="res://scenes/dialogue_box.tscn" id="8_mkny6"]
[ext_resource type="Texture2D" uid="uid://bips5r3dapnid" path="res://sprites/player_profile.png" id="9_6mn44"]
[ext_resource type="Script" uid="uid://dfpuv4o3jhve8" path="res://scripts/loop_dialogue_number.gd" id="9_n8a13"]
[ext_resource type="Texture2D" uid="uid://cd4fq0wrklx7r" path="res://sprites/cashier_profile.png" id="10_dhkcc"]
[ext_resource type="Texture2D" uid="uid://cxyuq4k2bimtt" path="res://sprites/player_profile_happy.png" id="11_g4ymn"]
[ext_resource type="Texture2D" uid="uid://jxwldbsvh36v" path="res://sprites/player_profile_sad.png" id="12_n8a13"]
[ext_resource type="Script" uid="uid://dgci5i08uwa23" path="res://scripts/grocery_store_event_manager.gd" id="16_y2ovd"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wf4cn"]
texture = ExtResource("1_v33jl")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_djpfe"]
physics_layer_0/collision_layer = 255
physics_layer_0/collision_mask = 255
sources/0 = SubResource("TileSetAtlasSource_wf4cn")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k5xca"]
size = Vector2(20, 96)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n8a13"]
size = Vector2(42, 77)

[sub_resource type="Resource" id="Resource_x0xxj"]
script = ExtResource("8_10eql")
text = "Uh, Hi! So I would like to buy this cheese"
profile = ExtResource("9_6mn44")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_k5xca"]
script = ExtResource("8_10eql")
text = "Hello sir, would this be all?"
profile = ExtResource("10_dhkcc")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_0rxo4"]
script = ExtResource("8_10eql")
text = "Yep!"
profile = ExtResource("11_g4ymn")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_iuru6"]
script = ExtResource("8_10eql")
text = "Cash or card?"
profile = ExtResource("10_dhkcc")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_phhnt"]
script = ExtResource("8_10eql")
text = "Uh... Well I'm kinda broke right now, can I please pay you when I have the money?"
profile = ExtResource("12_n8a13")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_we41u"]
script = ExtResource("8_10eql")
text = "Couldn't care less sir, just take some the cheese and have a good day."
profile = ExtResource("10_dhkcc")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_y2ovd"]
script = ExtResource("9_n8a13")
loop_number = 1
lines = Array[ExtResource("8_10eql")]([SubResource("Resource_x0xxj"), SubResource("Resource_k5xca"), SubResource("Resource_0rxo4"), SubResource("Resource_iuru6"), SubResource("Resource_phhnt"), SubResource("Resource_we41u")])
metadata/_custom_type_script = "uid://dfpuv4o3jhve8"

[sub_resource type="Resource" id="Resource_g2cs3"]
script = ExtResource("8_10eql")
text = "Hi again!"
profile = ExtResource("11_g4ymn")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_joexl"]
script = ExtResource("8_10eql")
text = "Ok sir hello, what will it be this time?"
profile = ExtResource("10_dhkcc")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_x1n10"]
script = ExtResource("8_10eql")
text = "Bread! I can't just eat plain cheese after all"
profile = ExtResource("9_6mn44")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_xevb8"]
script = ExtResource("8_10eql")
text = "Well, just take it and leave sir."
profile = ExtResource("10_dhkcc")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_rh7ml"]
script = ExtResource("8_10eql")
text = "Thanks!"
profile = ExtResource("11_g4ymn")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_4f4mc"]
script = ExtResource("9_n8a13")
loop_number = 3
lines = Array[ExtResource("8_10eql")]([SubResource("Resource_g2cs3"), SubResource("Resource_joexl"), SubResource("Resource_x1n10"), SubResource("Resource_xevb8"), SubResource("Resource_rh7ml")])
metadata/_custom_type_script = "uid://dfpuv4o3jhve8"

[sub_resource type="Resource" id="Resource_b3avl"]
script = ExtResource("8_10eql")
text = "Ugh. Hello sir. You know, even though I don't really care, you just not paying isn't a very decent thing to do."
profile = ExtResource("10_dhkcc")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_eodts"]
script = ExtResource("8_10eql")
text = "I will need butter this time please!"
profile = ExtResource("11_g4ymn")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_640rc"]
script = ExtResource("8_10eql")
text = "Take it and get out of here."
profile = ExtResource("10_dhkcc")
metadata/_custom_type_script = "uid://cbpoo80fjfr4m"

[sub_resource type="Resource" id="Resource_esp6c"]
script = ExtResource("9_n8a13")
loop_number = 5
lines = Array[ExtResource("8_10eql")]([SubResource("Resource_b3avl"), SubResource("Resource_eodts"), SubResource("Resource_640rc")])
metadata/_custom_type_script = "uid://dfpuv4o3jhve8"

[node name="grocery_store" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_djpfe")
format = 2
layer_0/tile_data = PackedInt32Array(65530, 196608, 1, 65531, 0, 1, 65532, 65536, 1, 65533, 131072, 1, 65534, 196608, 1, 65535, 0, 1, 0, 65536, 1, 1, 131072, 1, 2, 196608, 1, 3, 0, 1, 4, 65536, 1, 5, 131072, 1, 6, 196608, 1, 7, 0, 1, 8, 65536, 1, 9, 131072, 1, 10, 196608, 1, 65522, 196608, 1, 65523, 0, 1, 65524, 65536, 1, 65525, 131072, 1, 65526, 196608, 1, 65527, 0, 1, 65528, 65536, 1, 65529, 131072, 1, 11, 0, 1, 12, 65536, 1, 13, 131072, 1, -655374, 0, 0, -589838, 0, 0, -524302, 0, 0, -458766, 0, 0, -393230, 0, 0, -327694, 0, 0, -262158, 0, 0, -196622, 0, 0, -720910, 0, 0)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(-81, -65)
zoom = Vector2(4.295, 4.295)

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -6
offset_left = -219.0
offset_top = -190.0
offset_right = -179.0
offset_bottom = -150.0
scale = Vector2(7.89881, 4.96)
color = Color(0.182887, 0.446782, 0.604269, 1)

[node name="transfer_area" parent="." instance=ExtResource("2_x0xxj")]
position = Vector2(-224, -25)
transfer_scene_path = "res://scenes/main.tscn"
transfer_position = Vector2(2504, 32)

[node name="CollisionShape2D" type="CollisionShape2D" parent="transfer_area"]
position = Vector2(-12, 5)
shape = SubResource("RectangleShape2D_k5xca")

[node name="bg_elements" type="Node" parent="."]

[node name="Cashier" type="Sprite2D" parent="bg_elements"]
position = Vector2(-145, -17)
texture = ExtResource("2_wf4cn")

[node name="StaticBody2D" type="StaticBody2D" parent="bg_elements/Cashier"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="bg_elements/Cashier/StaticBody2D"]
position = Vector2(0, -21.5)
shape = SubResource("RectangleShape2D_n8a13")

[node name="Shelf2" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-112, -12.49)
texture = ExtResource("3_biarb")

[node name="Shelf4" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-137, -12.49)
texture = ExtResource("4_5dc52")

[node name="Shelf6" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-87, -12.49)
texture = ExtResource("5_k6thg")

[node name="Shelf3" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-188, -12.5)
texture = ExtResource("3_biarb")

[node name="Shelf5" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-213, -12.5)
texture = ExtResource("4_5dc52")

[node name="Shelf7" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-163, -12.5)
texture = ExtResource("5_k6thg")

[node name="Shelf9" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-11, -12.5)
texture = ExtResource("5_k6thg")

[node name="Shelf10" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-62, -12.5)
texture = ExtResource("4_5dc52")

[node name="Shelf11" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-37, -12.5)
texture = ExtResource("3_biarb")

[node name="Shelf16" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(63, -12.49)
texture = ExtResource("4_5dc52")

[node name="Shelf17" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(38, -12.5)
texture = ExtResource("3_biarb")

[node name="Shelf18" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(13, -12.43)
texture = ExtResource("5_k6thg")

[node name="Shelf8" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-112, -36.49)
texture = ExtResource("3_biarb")

[node name="Shelf12" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-137, -36.49)
texture = ExtResource("4_5dc52")

[node name="Shelf13" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-87, -36.49)
texture = ExtResource("5_k6thg")

[node name="Shelf14" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-188, -36.5)
texture = ExtResource("3_biarb")

[node name="Shelf15" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-213, -36.5)
texture = ExtResource("4_5dc52")

[node name="Shelf19" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-163, -36.5)
texture = ExtResource("5_k6thg")

[node name="Shelf20" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-11, -36.5)
texture = ExtResource("5_k6thg")

[node name="Shelf21" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-62, -36.5)
texture = ExtResource("4_5dc52")

[node name="Shelf22" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(-37, -36.5)
texture = ExtResource("3_biarb")

[node name="Shelf23" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(63, -36.49)
texture = ExtResource("4_5dc52")

[node name="Shelf24" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(38, -36.5)
texture = ExtResource("3_biarb")

[node name="Shelf25" type="Sprite2D" parent="bg_elements"]
modulate = Color(1, 1, 1, 0.505882)
z_index = -2
position = Vector2(13, -36.43)
texture = ExtResource("5_k6thg")

[node name="player" parent="bg_elements" instance=ExtResource("6_5dc52")]
position = Vector2(-201, 0)

[node name="dialogue_manager" parent="." instance=ExtResource("7_k6thg")]
pre_dialogue_wait_time = 0.5
start_dialogue = Array[ExtResource("9_n8a13")]([SubResource("Resource_y2ovd"), SubResource("Resource_4f4mc"), SubResource("Resource_esp6c")])

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="dialogue_box" parent="CanvasLayer" instance=ExtResource("8_mkny6")]
position = Vector2(520, 121)
scale = Vector2(6.84, 6.84)

[node name="grocery_store_event_manager" type="Node" parent="."]
script = ExtResource("16_y2ovd")

[connection signal="dialogue" from="dialogue_manager" to="CanvasLayer/dialogue_box" method="_on_dialogue_manager_dialogue"]
[connection signal="dialogue_end" from="dialogue_manager" to="bg_elements/player" method="_on_dialogue_manager_dialogue_end"]
[connection signal="dialogue_end" from="dialogue_manager" to="CanvasLayer/dialogue_box" method="_on_dialogue_manager_dialogue_end"]
[connection signal="dialogue_end" from="dialogue_manager" to="grocery_store_event_manager" method="_on_dialogue_manager_dialogue_end"]
